
<div class="">
  <form #searchform="ngForm">
    <div class="form-row mt-4">
      <div class="col">
        <input #search="ngModel" class="form-control" type="text" id="search"
          name="search" [(ngModel)]="query" placeholder="Tell us what you are looking for" required>
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-success"
          [disabled]="!searchform.form.valid" (click)="submit()">Search</button>
      </div>

    </div>

    <div class="mt-3">
      <h6 class="text-secondary">Search by...</h6>
      <div class="radio form-check-inline" *ngFor="let type of criteria">
        <label>
          <input class="radio" type="radio" name="searchType" [value]="type" (change)="onSelectionChange(type)" required> {{type}}
        </label>
      </div>

      <div class="border p-2" *ngIf="type === 'issues'">
        <p class="text-center">Hint, Here are some of the issues people on our site care about</p>
        <div class="app flex-row align-items-center">
            <div class="row">
                <div class="col-md-4" *ngFor="let n of issues"  >
                  <div class="align-items-center"> {{n.issue}}</div>
            </div>
          </div>
        </div>

    </div>
  </div>
  </form>
</div>

<div *ngIf="inSearch">
  <h2 class="float-left">
    Search Results({{profiles?.length?(profiles.length):0}})
  </h2>

  <table class="table table-striped">
    <thead>
      <th>Photo</th>
      <th>Name</th>
      <th>Candidacy</th>
      <th>Party</th>
      <th>Zipcode</th>
      <th class="text-right">Description</th>
    </thead>
    <tbody>
      <tr class='clickable-row' [routerLink]="'accounts/' + index.username"
      *ngFor="let index of profiles">
        <td>

        <img class="img-fluid" src="./assets/profile/{{index.picture}}" alt="{{index.picture}}" style="width: 50px; height: 50px;">
        </td>
        <td>
            {{ index.firstname }} {{index.lastname}}
          <td>
            {{index.candidates}}
          </td>
          <td>
            {{index.party}}
          </td>
          <td>
            {{index.zipcode}}
          </td>
          <td class="float-right">
            {{index.description}}
          </td>
        </tr>
      </tbody>
    </table>
    <div class="alert alert-secondary alert-block" id="alert" role="alert"
      *ngIf="!profiles?.length">
      No search results to display!
    </div>

  </div>
  <div *ngIf="!currentUser?.issues">
    <app-update-issues></app-update-issues>
  </div>
